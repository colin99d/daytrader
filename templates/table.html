{% extends "base.html" %}
{% block content %}
{% load filter %}
<div class="container mx-auto px-4 sm:px-8">
    <div class="py-8">
        <div>
            <h2 class="text-2xl font-semibold leading-tight">Past Picks</h2>
        </div>
        <div class="-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto">
            <div class="inline-block min-w-full shadow rounded-lg overflow-hidden">
                <table class="min-w-full">
                    <thead>
                        <tr>
                            <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase text-left">Date</th>
                            <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase text-left">Ticker</th>
                            <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase text-left">Open</th>
                            <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase text-left">Close</th>
                            <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase text-left">Gain</th>
                            <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-xs font-semibold text-gray-600 uppercase text-left">Confidence</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                        {% for stock in stocks %}
                            <tr>
                                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">{{stock.tradeDate | date:"m/d/y"}}</td>
                                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">{{stock.stock.ticker}}</td>
                                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">${{stock.openPrice | floatformat:3}}</td>
                                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">${{stock.closingPrice | floatformat:3}}</td>
                                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm {% if stock.openPrice > stock.closingPrice %}text-green-500{% else %}text-red-500{% endif %}">{{stock.openPrice | growth:stock.closingPrice}}</td>
                                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">{{stock.confidence}}%</td>
                            </tr>
                        {% endfor %}

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

{% endblock content %}